@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>edubis | 2020 </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.js"></script>

    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap-extended.min.css">
    <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/fonts/simple-line-icons/style.min.css">
    <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/colors.min.css">
    <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
</head>
<body style="font-family:bahnschrift;">

    <div class="row">
        <div id="leftDiv" class="col-md-4 bg-secondary my-5 p-5 border text center">
            <div class="row">
                <div class="col-xl-6 ">
                    <div class="card">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="media d-flex">
                                    <div class="align-self-center">
                                        <i class="icon-home primary font-large-4 "></i>
                                    </div>
                                    <div class="media-body text-right">
                                        <h3>@ViewBag.classCount</h3>
                                        <span>Sınıf Sayısı</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 ">
                    <div class="card" onclick="~/Home/Create">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="media d-flex">
                                    <div class="align-self-center">
                                        <i class="icon-book-open warning font-large-4 "></i>
                                    </div>
                                    <div class="media-body text-right">
                                        <h3>@ViewBag.lessonCount</h3>
                                        <span>Ders Sayısı</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4 p-5 my-3 bg-dark text-white text-center">
            <h1>EduSis® </h1>
            <br />
            <br />
            <h4>Habib Baltacı</h4>
            <p>@DateTime.Now.ToShortDateString()</p>
          
        </div>
        <div class="col-md-4 bg-secondary p-5 my-5 border text center">
            <div class="row">
                <div class="col-xl-6 ">
                    <div class="card">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="media d-flex">
                                    <div class="align-self-center">
                                        <i class="icon-check success font-large-4 "></i>
                                    </div>
                                    <div class="media-body text-right">
                                        <h2>@ViewBag.isActive</h2>
                                        <span>Aktif Ders Sayısı</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 ">
                    <div class="card">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="media d-flex">
                                    <div class="align-self-center">
                                        <i class="icon-directions warning font-large-4 "></i>
                                    </div>
                                    <div class="media-body text-right">
                                        <h2>@ViewBag.isBus</h2>
                                        <span>Servis Kullanan Öğrenci</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="row">
        <div class="col-xl-4 col-sm-6 col-12">
            <div class="card">
                <div class="card-content">
                    <div class="card-body">
                        <div class="media d-flex">
                            <div class="align-self-center">
                                <i class="icon-users primary font-large-2 float-left"></i>
                            </div>
                            <div class="media-body text-right">
                                <h3>@ViewBag.totalList</h3>
                                <span>Toplam Öğrenci</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-4 col-sm-6 col-12">
            <div class="card">
                <div class="card-content">
                    <div class="card-body">
                        <div class="media d-flex">
                            <div class="align-self-center">
                                <i class="icon-user warning font-large-2 float-left"></i>
                            </div>
                            <div class="media-body text-right">
                                <h3>@ViewBag.Male</h3>
                                <span>Erkek Öğrenci</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-4 col-sm-6 col-12">
            <div class="card">
                <div class="card-content">
                    <div class="card-body">
                        <div class="media d-flex">
                            <div class="align-self-center">
                                <i class="icon-user-female success font-large-2 float-left"></i>
                            </div>
                            <div class="media-body text-right">
                                <h3>@ViewBag.Female</h3>
                                <span>Kız Öğrenci</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-group btn-group-lg" role="group" aria-label="Basic example">
            <a class="btn btn-secondary text-white" data-toggle="modal" data-target="#mdlLessonList">Dersler</a>
            <a class="btn  bg-amber bg-accent-4" data-toggle="modal" data-target="#mdlclassList">Sınıflar</a>
            <a href="~/Home/Create" class="btn btn-info">Yeni Öğrenci Ekle</a>
            <a href="~/Home/Index/" class="btn btn-success  text-white">Yenile</a>
        </div>
        <div class="container-fluid">

            <table class="table  table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th>Adı</th>
                        <th>Soyadı</th>
                        <th>Sınıf</th>
                        <th>TC Kimlik No</th>
                        <th>Telefon</th>
                        <th>Mail</th>
                        <th>Şehir</th>
                        <th>Okul Servisi</th>
                        <th>Cinsiyet</th>
                        <th><input class="form-control" id="txtSearch" type="text" placeholder="Öğrenci Parametresi giriniz..."> </th>

                    </tr>
                </thead>
                <tbody id="tbList">
                    @{
                        foreach (var item in ViewBag.studentList)
                        {
                            <tr>

                                <td>
                                    @item.ogrName
                                </td>
                                <td>
                                    @item.ogrSurname
                                </td>
                                <td>
                                    @item.classID
                                </td>
                                <td>
                                    @item.OgrTc
                                </td>
                                <td>
                                    @item.ogrTel
                                </td>
                                <td>
                                    @item.ogrMail
                                </td>
                                <td>
                                    @item.ogrSehir
                                </td>
                                <td>
                                    @item.ogrServis
                                </td>
                                <td>
                                    @item.ogrCins
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a href="~/Home/Edit/@item.ogrID" class="btn btn-secondary text-white">Düzenle</a>
                                        <a href="#" class="Sil btn btn-danger text-white" id="@item.ogrID" name="@item.ogrID">Sil</a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
        @*--------------------------------------Modal Of LessonsList--------------------------------------------------*@

        <div class="container">
            <!-- The Modal -->
            <div class="modal" id="mdlLessonList">
                <div class="modal-dialog modal-dialog-centered modal-xl">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Dersler</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>

                        <!-- Modal body -->
                        <div class="modal-body">
                            <div class="container">

                                <table class="table  table-hover">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>Ders Adı</th>
                                            <th>Ders İçeriği</th>
                                            <th>Ders Aktif mi?</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbList">
                                        @{
                                            foreach (var item in ViewBag.LessonList)
                                            {
                                                <tr>

                                                    <td>
                                                        @item.lessonName
                                                    </td>
                                                    <td>
                                                        @item.lessonDescription
                                                    </td>
                                                    <td>
                                                        @item.lessonActivite
                                                    </td>

                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Kapat</button>
                            </div>


                        </div>


                    </div>
                </div>
            </div>

        </div>

        @*--------------------------------------Modal Of ClassList--------------------------------------------------*@

        <div class="container">

            <!-- The Modal -->
            <div class="modal" id="mdlclassList">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Sınıflar</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>

                        <!-- Modal body -->
                        <div class="modal-body">
                            <div class="container">

                                <table class="table  table-hover">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>Sınıf Adı</th>
                                            <th>Atanan Ders</th>

                                        </tr>
                                    </thead>
                                    <tbody id="tbList">
                                        @{
                                            foreach (var item in ViewBag.ClassroomList)
                                            {
                                                <tr>

                                                    <td>
                                                        @item.className
                                                    </td>
                                                    <td>
                                                        @item.lessonID
                                                    </td>

                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Kapat</button>
                            </div>


                        </div>


                    </div>
                </div>
            </div>

        </div>


        <script>
            $(document).ready(function () {
                $(".Sil").click(function () {
                    //Herhangi bir satırdaki <a..> </a> tagı tıklandığı zaman tetiklenecek olan metotdur.
                    if (confirm("Bu öğrenciyi silmek istediğinizden emin misiniz?")) {
                        var ID = $(this).attr('name');
                        //Tıklanan ilgili linkin name özelliğindeki ID değerini çekiyoruz.
                        $.ajax({
                            url: '/Home/Delete/' + ID,//Ajax ile tetiklenecek ilgili adresi belirliyoruz.
                            type: 'POST',
                            dataType: 'json',
                            success: function (data) {
                                $("#tbList").html(data);
                                //Gelen Json veriyi ilgili taga yerleştiriyoruz.
                            }
                        });
                        $(this).parent('td').parent('tr').remove();
                        //Ajax işlemi başarıyla sonuçlandıktan sonra ilgili satırı bu komut ile siliyoruz.
                    }
                });
            });
        </script>

        <script>
            $(document).ready(function () {
                $("#txtSearch").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    $("#tbList tr").filter(function () {
                        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                    });
                });
            });
        </script>
</body>
</html>
